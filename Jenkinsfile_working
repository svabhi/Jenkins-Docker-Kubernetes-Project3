pipeline {
    agent any
	tools {
		maven 'Maven'
	}
	
	environment {
		PROJECT_ID = 'geometric-hull-355406'
                CLUSTER_NAME = 'k8s-cluster'
                LOCATION = 'us-central1-c'
                CREDENTIALS_ID = 'kubernetes'
		}
	
    stages {
	    stage('Scm Checkout') {
		    steps {
			    checkout scm
		    }
	    }
	    
	    stage('test') {
		    steps {
				withCredentials([file(credentialsId: 'gcloud-creds', variable: 'GCLOUD_CREDS')]){
                sh '''
                chmod 600 $GCLOUD_CREDS
                docker ps
                sh 'gcloud version'
				sh 'gcloud compute zones list'
				'''
		    }
	    }
	}
}
}
