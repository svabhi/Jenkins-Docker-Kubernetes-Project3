pipeline {
    agent any
	tools {
		maven 'Maven'
	}
	
	environment {
		PROJECT_ID = 'geometric-hull-355406'
                CLUSTER_NAME = 'k8s-cluster'
                LOCATION = 'us-central1-c'
                CREDENTIALS_ID = 'kubernetes'
		}
	
    stages {
        stage('test') {
		    steps {
				withCredentials([file(credentialsId: 'gcloud-creds', variable: 'GCLOUD_CREDS')]){
                sh '''
                   'gcloud version'
				   'gcloud auth activate-service-account --key-file="$GCLOUD_CREDS"
				   'gcloud compute zones list'
				   'docker pull busybox'
				'''
		    }
	    }
	}
}
}
